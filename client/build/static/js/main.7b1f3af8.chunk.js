(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{32:function(e,t,a){},52:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),c=a.n(n),l=a(43),r=a.n(l),i=(a(52),a(3)),o=a(15),d=a(5),u=(a(32),a(2)),j=a.n(u),p=a(8),m=a.n(p),b=a(28),h=a.n(b),f=a(44),g=a(13),O=a(45),x=a.n(O),v=a(19),w=a.n(v),N=a(21),_=a(22),y=a(25),S=a(23),C=function(e){var t=document.getElementsByClassName("progress");if(t){var a,s=Object(g.a)(t);try{for(s.s();!(a=s.n()).done;){a.value.style.display=e?"block":"none"}}catch(n){s.e(n)}finally{s.f()}}},T=a(29);a(77);T.a.initializeApp({apiKey:"AIzaSyC0sUvGdRBgBLZdCF8h3uuGiNuMWi0uDYI",authDomain:"twitter-mock-1c4c1.firebaseapp.com",projectId:"twitter-mock-1c4c1",storageBucket:"twitter-mock-1c4c1.appspot.com",messagingSenderId:"602929537521",appId:"1:602929537521:web:d1c519f240e6141fb6a450"});var k=T.a.storage(),E=function(e){var t,a=document.querySelectorAll("button"),s=Object(g.a)(a);try{for(s.s();!(t=s.n()).done;){t.value.disabled=e}}catch(n){s.e(n)}finally{s.f()}},z=function(e){document.getElementById("file").value=null,e(),E(!1)},I=function(e,t){console.log(e),z(t),j.a.toast({html:"Error Occured while Uploading the image.",classes:"#c62828 red darken-3"})},P=function(e,t,a,s){e.preventDefault();if(null==t||!["image/gif","image/jpeg","image/png"].includes(t.type))return z(s),j.a.toast({html:"Select an Image (jpg, png, or gif only)",classes:"#c62828 red darken-3"});E(!0),k.ref("/images/".concat(t.name)).put(t).on("state_changed",console.log,(function(e){return I(e,s)}),(function(){k.ref("/images/".concat(t.name)).getDownloadURL().then((function(e){a(e),E(!1),j.a.toast({html:"Image uploaded Sucessfully",classes:"#43a047 green darken-1"})})).catch((function(e){return I(e,s)}))}))},M=function(e){Object(y.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(N.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={tweet_pic_url:null,tweet_pic:null},e.instance=null,e.addPost=function(t){C(!0),console.log(t.value);var a={tweet:w.a.encode(t.value),tweet_pic_url:e.state.tweet_pic_url};m.a.post("api/postTweet",a,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(a){a.data.success&&(t.value="",e.props.refetchTweets()),j.a.toast({html:a.data.msg,classes:a.data.toastColor}),e.closeModal()})).catch((function(t){console.log(t),j.a.toast({html:"Internel Error occured. Try Later. (F-AddPostModal)",classes:"#c62828 red darken-3"}),e.closeModal()}))},e}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e={onOpenStart:function(){return console.log("Open Start")},onOpenEnd:function(){return console.log("Open End")},onCloseStart:function(){return console.log("Close Start")},onCloseEnd:function(){return console.log("Close End")},inDuration:250,outDuration:250,opacity:.5,dismissible:!0,startingTop:"4%",endingTop:"10%"};j.a.Modal.init(this.Modal,e),this.instance=j.a.Modal.getInstance(this.Modal)}},{key:"closeModal",value:function(){C(!1),this.instance.close()}},{key:"render",value:function(){var e=this;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("a",{"data-target":"modal1",className:"modal-trigger btn-floating btn-large waves-effect waves-light red",style:{position:"fixed",right:"75px",bottom:"50px"},children:Object(s.jsx)("i",{className:"material-icons",children:"mode_edit"})}),Object(s.jsxs)("div",{id:"modal1",className:"modal",ref:function(t){e.Modal=t},children:[Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsx)("h5",{children:"What's On Your Mind?"}),Object(s.jsxs)("div",{className:"row",style:{marginTop:"25px"},children:[Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("i",{className:"material-icons prefix",children:"mode_edit"}),Object(s.jsx)("textarea",{id:"icon_prefix2",className:"materialize-textarea",style:{fontFamily:"Raleway, sans-serif",whiteSpace:"pre"}}),Object(s.jsx)("label",{htmlFor:"icon_prefix2",children:"Tweet"})]}),Object(s.jsx)("div",{id:"tweet-pic",children:Object(s.jsx)("img",{src:this.state.tweet_pic_url})}),Object(s.jsxs)("form",{className:"row",onSubmit:function(t){return P(t,e.state.tweet_pic,(function(t){return e.setState({tweet_pic_url:t})}),(function(){return e.setState({tweet_pic:null})}))},children:[Object(s.jsx)("input",{type:"file",id:"file",onChange:function(t){return e.setState({tweet_pic:t.target.files[0]})},style:{overflow:"hidden",marginLeft:"8%",marginTop:"11px"}}),Object(s.jsx)("button",{className:"btn waves-effect waves-light",style:{float:"right"},children:"Upload"})]})]})]}),Object(s.jsxs)("div",{className:"modal-footer",children:[Object(s.jsx)("a",{className:"modal-close waves-effect waves-red btn-flat",children:"Cancel"}),Object(s.jsx)("a",{className:"waves-effect waves-green btn-flat",onClick:function(t){e.addPost(document.getElementById("icon_prefix2"))},children:"Post"})]})]})]})}}]),a}(n.Component),F=function(e){for(var t=[],a=0;a<e.total_pages;a++)t[a]=a;var n=function(t){e.setPage(t),document.body.scrollTop=0,document.documentElement.scrollTop=0};return Object(s.jsxs)("ul",{className:"pagination",style:{textAlign:"center"},children:[Object(s.jsx)("li",{className:0===e.page?"disabled":"waves-effect",children:Object(s.jsx)("a",{onClick:0===e.page?null:function(){return n(e.page-1)},children:Object(s.jsx)("i",{className:"material-icons",children:"chevron_left"})})}),t.map((function(t){return Object(s.jsx)("li",{className:e.page===t?"active":"waves-effect",children:Object(s.jsxs)("a",{onClick:function(){return n(t)},children:[" ",t+1," "]})},t)})),Object(s.jsx)("li",{className:e.page===t.length-1?"disabled":"waves-effect",children:Object(s.jsx)("a",{onClick:e.page===t.length-1?null:function(){return n(e.page+1)},children:Object(s.jsx)("i",{className:"material-icons",children:"chevron_right"})})})]})},B=function(e){var t=Object(n.useState)(0),a=Object(i.a)(t,2),c=a[0],l=a[1],r=Object(n.useState)(!0),o=Object(i.a)(r,2),d=o[0],u=o[1],p=Object(n.useState)(0),b=Object(i.a)(p,2),h=b[0],f=b[1],g=Object(n.useState)([]),O=Object(i.a)(g,2),x=O[0],v=O[1],w=Object(n.useState)(!0),N=Object(i.a)(w,2),_=N[0],y=N[1];return Object(n.useEffect)((function(){C(!0),setTimeout((function(){m.a.get("api/getUserTweets?page=".concat(c,"&username=").concat(e.username),{},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){e.data.success?(v(e.data.posts),f(e.data.pages)):j.a.toast({html:e.data.msg,classes:e.data.toastColor}),C(!1),_&&y(!1)})).catch((function(e){console.log(e),j.a.toast({html:"Internl Error occured - Could Not Fetch Posts. Try later (F)",classes:"#c62828 red darken-3"}),C(!1)}))}),1e3)}),[c,d]),[e.logged?Object(s.jsx)(M,{refetchTweets:0!==c?function(){return l(0)}:function(){return u(!d)}},"arr_elem_1"):null,Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("div",{className:"progress",children:Object(s.jsx)("div",{className:"indeterminate"})}),0===x.length?_?null:Object(s.jsx)("center",{children:Object(s.jsx)("h5",{children:"No Tweets. You Seem like a quite chap. Buckup a bit!"})}):Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"hide-on-small-only",children:[Object(s.jsx)(J,{posts:x,range:[0,4],editable:e.editable,logged:e.logged,col_size:"col s6"}),Object(s.jsx)(J,{posts:x,range:[5,9],editable:e.editable,logged:e.logged,col_size:"col s6"})]}),Object(s.jsx)("div",{className:"show-on-small hide-on-med-and-up",children:Object(s.jsx)(J,{posts:x,range:[0,9],editable:e.editable,logged:e.logged,col_size:"col s12"})})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)(F,{page:c,setPage:l,total_pages:h})})]},"arr_elem_2")]},L=function(e){var t="material-icons circle ".concat(["red","green","blue","yellow","purple","pink"][Math.floor(108*Math.random())%6]),a=null,c="title",l=null,r=null;e.show_profile&&(r="pointer",a="modal2",c="title modal-trigger",l=function(){return p(!0)});var o=Object(n.useState)(!1),d=Object(i.a)(o,2),u=d[0],p=d[1],m=Object(n.useRef)(null);return Object(n.useEffect)((function(){return j.a.Materialbox.init(m.current)}),[]),Object(s.jsxs)("li",{className:"collection-item avatar",children:[u?Object(s.jsx)(W,{username:e.person.username,closeProfile:function(){return p(!1)}}):null,Object(s.jsx)("div",{style:{padding:"10px"},children:e.person.profile_pic_url?Object(s.jsxs)("div",{children:[" ",Object(s.jsx)("img",{src:e.person.profile_pic_url,alt:"",className:"responsive-img circle materialboxed",ref:m})]}):Object(s.jsx)("i",{className:t,children:"person"})}),Object(s.jsx)("span",{className:c,onClick:l,"data-target":a,style:{wordWrap:"break-word",cursor:r},children:e.person.username})]})},D=function(e){var t=null,a=null;return"col s6"===e.col_size&&(t={paddingRight:"9%"},a={paddingLeft:"9%"}),[Object(s.jsxs)("div",{className:e.col_size,style:t,children:[Object(s.jsx)("center",{style:{marginBottom:"15px",fontWeight:"bold"},children:"Followers"}),Object(s.jsx)("ul",{className:"collection",children:e.people.followers.map((function(t){return Object(s.jsx)(L,{person:t,show_profile:e.show_profile},t._id)}))})]},"followers_list"),Object(s.jsxs)("div",{className:e.col_size,style:a,children:[Object(s.jsx)("center",{style:{marginBottom:"15px",fontWeight:"bold"},children:"Followings"}),Object(s.jsx)("ul",{className:"collection",children:e.people.followings.map((function(t){return Object(s.jsx)(L,{person:t,show_profile:e.show_profile},t._id)}))})]},"followings_list")]},A=function(e){var t=Object(n.useState)({followers:[],followings:[]}),a=Object(i.a)(t,2),c=a[0],l=a[1],r=Object(n.useState)(!0),o=Object(i.a)(r,2),d=o[0],u=o[1];return Object(n.useEffect)((function(){C(!0),setTimeout((function(){m.a.get("api/people?username=".concat(e.username),{},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(t){if(t.data.success){var a,s=[],n=[],c=Object(g.a)(t.data.people);try{for(c.s();!(a=c.n()).done;){var r=a.value;r.followee===e.username?n.push({username:r.follower,_id:r._id,profile_pic_url:r.pics.follower}):s.push({username:r.followee,_id:r._id,profile_pic_url:r.pics.followee})}}catch(i){c.e(i)}finally{c.f()}l({followers:s,followings:n})}else j.a.toast({html:t.data.msg,classes:t.data.toastColor});C(!1),d&&u(!1)})).catch((function(e){console.log(e),j.a.toast({html:"Internl Error occured - Could Not Fetch Posts. Try later (F)",classes:"#c62828 red darken-3"}),C(!1)}))}),1e3)}),[]),Object(s.jsxs)("div",{className:"container",id:"main-container",style:{paddingLeft:"2%",paddingRight:"2%"},children:[Object(s.jsx)("div",{className:"progress",children:Object(s.jsx)("div",{className:"indeterminate"})}),0===c.length?d?null:Object(s.jsx)("center",{children:Object(s.jsx)("h5",{children:"You are Connected to no one."})}):[Object(s.jsx)("div",{className:"row hide-on-small-only",children:Object(s.jsx)(D,{people:c,col_size:"col s6",show_profile:e.show_profile})},"display1"),Object(s.jsx)("div",{className:"row show-on-small hide-on-med-and-up",children:Object(s.jsx)(D,{people:c,col_size:"col s12",show_profile:e.show_profile})},"display2")]]})},W=function(e){Object(y.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(N.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n)))._window=Object.freeze({TWEETS:1,PEOPLE:2}),e.state={curr_page:e._window.TWEETS},e}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={onOpenStart:function(){return console.log("Open Start")},onOpenEnd:function(){return console.log("Open End")},onCloseStart:function(){return e.props.closeProfile()},onCloseEnd:function(){return console.log("Close End")},inDuration:250,outDuration:250,opacity:.75,dismissible:!0,startingTop:"4%",endingTop:"10%"};j.a.Modal.init(this.Modal,t)}},{key:"render",value:function(){var e=this;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{id:"modal2",className:"modal",ref:function(t){e.Modal=t},children:Object(s.jsxs)("div",{className:"modal-content",style:{padding:"0px"},children:[Object(s.jsx)("div",{className:"navbar-fixed navbar-margin",children:Object(s.jsx)("nav",{className:"nav-extended",children:Object(s.jsxs)("div",{className:"nav-wrapper custom-navbar",children:[Object(s.jsx)("div",{className:"brand-logo center",children:this.props.username}),Object(s.jsx)("ul",{id:"nav-mobile",className:"right",children:Object(s.jsxs)("li",{children:[Object(s.jsx)("i",{className:"material-icons left",children:"playlist_add"}),"Follow"]})}),Object(s.jsx)("div",{className:"nav-content",children:Object(s.jsxs)("ul",{className:"tabs tabs-transparent",children:[Object(s.jsx)("li",{className:"tab",onClick:function(){e.setState({curr_page:e._window.TWEETS})},children:Object(s.jsx)("a",{className:this.state.curr_page===this._window.TWEETS?"active":null,children:"Tweets"})}),Object(s.jsx)("li",{className:"tab",onClick:function(){e.setState({curr_page:e._window.PEOPLE})},children:Object(s.jsx)("a",{className:this.state.curr_page===this._window.PEOPLE?"active":null,children:"People"})})]})})]})})}),Object(s.jsx)("div",{className:"row",style:{marginTop:"10%",marginLeft:"0",marginRight:"0"},children:this.state.curr_page===this._window.TWEETS?Object(s.jsx)(B,{username:this.props.username,editable:!1}):Object(s.jsx)(A,{username:this.props.username,show_profile:!1})})]})})})}}]),a}(n.Component),U=function(e){var t="material-icons circle ".concat(["red","green","blue","yellow","purple","pink"][Math.floor(108*Math.random())%6]),a=null,c="title",l=null,r=null;e.show_profile&&(r="pointer",a="modal2",c="title modal-trigger",l=function(){return y(!0)});var o=function(){for(var e=document.getElementsByClassName("warning");e.length>0;)e[0].parentNode.removeChild(e[0])},d=function(e){var t,a=e?"none":"block",s=e,n=document.getElementsByClassName("row"),c=Object(g.a)(n);try{for(c.s();!(t=c.n()).done;){t.value.style.display=a}}catch(l){c.e(l)}finally{c.f()}C(s)},u=function(e,t){e.then((function(e){if(j.a.toast({html:e.data.msg,classes:e.data.toastColor}),d(!1),t){var a,s=document.getElementsByClassName(t),n=Object(g.a)(s);try{for(n.s();!(a=n.n()).done;){a.value.style.display="none"}}catch(c){n.e(c)}finally{n.f()}}})).catch((function(e){console.log(e),j.a.toast({html:"Internel Error occured. Try Later. (F)",classes:"#c62828 red darken-3"}),d(!1)}))},p=Object(n.useRef)(null),b=Object(n.useRef)(null),O=Object(n.useRef)(null);Object(n.useEffect)((function(){j.a.Tooltip.init(p.current,{margin:0,html:"Click to Edit",exitDelay:0}),j.a.Tooltip.init(b.current,{margin:0,html:"Follow",exitDelay:0}),j.a.Materialbox.init(O.current)}),[]);var v=Object(n.useState)(!1),N=Object(i.a)(v,2),_=N[0],y=N[1];return Object(s.jsxs)("li",{className:"collection-item avatar",children:[_?Object(s.jsx)(W,{username:e.post.username,closeProfile:function(){return y(!1)}}):null,e.post.profile_pic_url?Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:e.post.profile_pic_url,alt:"",className:"responsive-img circle materialboxed",ref:O})}):Object(s.jsx)("i",{className:t,children:"person"}),Object(s.jsx)("span",{className:c,onClick:l,"data-target":a,style:{wordWrap:"break-word",cursor:r},children:e.post.username}),Object(s.jsx)("p",{className:"tweet-style add tooltipped",ref:e.editable?p:null,contentEditable:e.editable,suppressContentEditableWarning:!0,onFocus:function(e){e.target.isContentEditable&&""!==e.target.innerHTML&&(e.target.innerHTML+="<div contenteditable='false' class='warning'><span style='color:darkgrey;font-size:10px;'> (Press Enter to save permanently)</span></div>")},onBlur:o,onKeyDown:function(t){return function(e,t){13!==e.keyCode||e.shiftKey||(e.preventDefault(),e.target.blur(),d(!0),setTimeout((function(){var a={tweet:w.a.encode(e.target.innerHTML),tweet_id:t},s=m.a.patch("api/patchTweet",a,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}});u(s)}),1e3))}(t,e.post._id)},onKeyUp:function(e){'<div contenteditable="false" class="warning"><span style="color:darkgrey;font-size:10px;"> (Press Enter to save permanently)</span></div>'==e.target.innerHTML&&o()},dangerouslySetInnerHTML:{__html:w.a.decode(e.post.tweet)}}),e.post.tweet_pic_url?Object(s.jsx)("div",{className:"tweet-pic-div",children:Object(s.jsx)("img",{src:e.post.tweet_pic_url,ref:O,className:"materialboxed",style:{maxWidth:"100%",maxHeight:"100%",height:"auto"}})}):null,Object(s.jsxs)("p",{className:"tweet-style",style:{color:"darkgrey",fontSize:"12px"},children:[" - ",x()(e.post.date_time).fromNow()]}),e.post.not_following&&localStorage.getItem("user")?Object(s.jsx)("a",{style:{cursor:"pointer"},className:"secondary-content tooltipped "+e.post.username,ref:b,onClick:function(){return t=e.post.username,a=JSON.parse(localStorage.getItem("user")).username,s={follower:e.post.profile_pic_url,followee:JSON.parse(localStorage.getItem("user")).profile_pic_url},d(!0),void setTimeout(Object(f.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={follower:t,followee:a,pics:s},u(m.a.post("api/follow",n,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}),t);case 2:case"end":return e.stop()}}),e)}))),1e3);var t,a,s},children:Object(s.jsx)("i",{className:"material-icons",children:"playlist_add"})}):null]})},J=function(e){return Object(s.jsx)("div",{className:e.col_size,children:Object(s.jsx)("ul",{className:"collection",children:e.posts.map((function(t,a){return a>=e.range[0]&&a<=e.range[1]?Object(s.jsx)(U,{post:t,editable:e.editable,logged:e.logged,show_profile:e.show_profile},t._id):null}))})})},R=function(e){var t=document.getElementsByClassName("progress");if(t){var a,s=Object(g.a)(t);try{for(s.s();!(a=s.n()).done;){a.value.style.display=e?"block":"none"}}catch(n){s.e(n)}finally{s.f()}}},H=function(e){var t=Object(n.useState)(0),a=Object(i.a)(t,2),c=a[0],l=a[1],r=Object(n.useState)(0),o=Object(i.a)(r,2),d=o[0],u=o[1],p=Object(n.useState)([]),b=Object(i.a)(p,2),h=b[0],f=b[1],g=Object(n.useState)(!0),O=Object(i.a)(g,2),x=O[0],v=O[1];return Object(n.useEffect)((function(){R(!0),setTimeout((function(){m.a.get("api/getAllTweets?page=".concat(c,"&username=").concat(e.username)).then((function(e){e.data.success?(f(e.data.posts),u(e.data.pages)):j.a.toast({html:e.data.msg,classes:e.data.toastColor}),R(!1),x&&v(!1)})).catch((function(e){console.log(e),j.a.toast({html:"Internl Error occured - Could Not Fetch Posts. Try later (F)",classes:"#c62828 red darken-3"}),R(!1)}))}),1e3)}),[c]),Object(s.jsxs)("div",{className:"container",id:"main-container",children:[Object(s.jsx)("div",{className:"progress",children:Object(s.jsx)("div",{className:"indeterminate"})}),0===h.length?x?null:Object(s.jsx)("center",{children:Object(s.jsx)("h5",{children:"No Tweets :("})}):Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"hide-on-small-only",children:[Object(s.jsx)(J,{posts:h,range:[0,4],show_profile:e.show_profile,col_size:"col s6"}),Object(s.jsx)(J,{posts:h,range:[5,9],show_profile:e.show_profile,col_size:"col s6"})]}),Object(s.jsx)("div",{className:"show-on-small hide-on-med-and-up",children:Object(s.jsx)(J,{posts:h,range:[0,9],show_profile:e.show_profile,col_size:"col s12"})})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)(F,{page:c,setPage:l,total_pages:d})})]})},Y=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1],r=Object(n.useState)(""),o=Object(i.a)(r,2),d=o[0],u=o[1];return Object(s.jsxs)("div",{className:"card custom-card-signin",children:[Object(s.jsx)("div",{className:"brand-logo",children:Object(s.jsx)("h3",{children:"Twitter"})}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("i",{className:"custom-icon-size material-icons prefix",children:"account_circle"}),Object(s.jsx)("input",{type:"text",placeholder:"Username",value:c,onChange:function(e){return l(e.target.value)},className:"validate"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("i",{className:"custom-icon-size material-icons prefix",children:"password"}),Object(s.jsx)("input",{type:"password",placeholder:"Password",value:d,onChange:function(e){return u(e.target.value)},className:"validate"})]}),Object(s.jsxs)("button",{className:"btn waves-effect waves-light custom-button-signin",type:"submit",name:"action",onClick:function(){var t={username:c,password:d};c&&d?m.a.post("api/authenticate",t).then((function(t){if(j.a.toast({html:t.data.msg,classes:t.data.toastColor}),t.data.success){var a=JSON.stringify(t.data.user);localStorage.setItem("jwt",t.data.token),localStorage.setItem("user",a),e.setJwt(t.data.token),e.setUser(a),window.location.replace("/userTweets")}})).catch((function(e){console.log(e),j.a.toast({html:"Internel Error occured. Try Later. (F)",classes:"#c62828 red darken-3"})})):j.a.toast({html:"Please fill all the feilds",classes:"#c62828 red darken-3"})},children:["Signin",Object(s.jsx)("i",{className:"material-icons right",children:"arrow_forward"})]})]})},K=function(e){var t=Object(d.f)(),a=Object(n.useState)(""),c=Object(i.a)(a,2),l=c[0],r=c[1],o=Object(n.useState)(""),u=Object(i.a)(o,2),p=u[0],b=u[1],h=Object(n.useState)(""),f=Object(i.a)(h,2),g=f[0],O=f[1],x=Object(n.useState)(""),v=Object(i.a)(x,2),w=v[0],N=v[1],_=Object(n.useState)(""),y=Object(i.a)(_,2),S=y[0],C=y[1],T=Object(n.useState)(""),k=Object(i.a)(T,2),E=k[0],z=k[1],I=Object(n.useState)(null),M=Object(i.a)(I,2),F=M[0],B=M[1],L=Object(n.useState)(""),D=Object(i.a)(L,2),A=D[0],W=D[1];return Object(s.jsxs)("div",{className:"card custom-card-signup",children:[Object(s.jsx)("div",{className:"brand-logo",children:Object(s.jsx)("h3",{children:"Twitter"})}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("i",{className:"custom-icon-size material-icons prefix",children:"face"}),Object(s.jsx)("input",{type:"text",placeholder:"First Name",value:p,onChange:function(e){return b(e.target.value)},className:"validate"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("i",{className:"custom-icon-size material-icons prefix",children:"face"}),Object(s.jsx)("input",{type:"text",placeholder:"Last Name",value:g,onChange:function(e){return O(e.target.value)},className:"validate"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("i",{className:"custom-icon-size material-icons prefix",children:"phone"}),Object(s.jsx)("input",{type:"tel",placeholder:"Phone",value:w,onChange:function(e){return N(e.target.value)},className:"validate"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("i",{className:"custom-icon-size material-icons prefix",children:"email"}),Object(s.jsx)("input",{type:"email",placeholder:"Email",value:S,onChange:function(e){return C(e.target.value)},className:"validate"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("i",{className:"custom-icon-size material-icons prefix",children:"account_circle"}),Object(s.jsx)("input",{type:"text",placeholder:"Username",value:l,onChange:function(e){return r(e.target.value)},className:"validate"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("i",{className:"custom-icon-size material-icons prefix",children:"password"}),Object(s.jsx)("input",{type:"password",placeholder:"Password",value:E,onChange:function(e){return z(e.target.value)},className:"validate"})]}),Object(s.jsxs)("form",{className:"row",style:{marginTop:"7%"},onSubmit:function(e){return P(e,F,(function(e){return W(e)}),(function(){return B(null)}))},children:[Object(s.jsx)("input",{className:"col s9",type:"file",id:"file",onChange:function(e){return B(e.target.files[0])},style:{overflow:"hidden",marginTop:"11px"}}),Object(s.jsx)("button",{className:"col s3 btn waves-effect waves-light",children:"Upload"}),"  "]}),Object(s.jsxs)("button",{className:"btn waves-effect waves-light custom-button-signin",type:"button",onClick:function(){var e={username:l,first:p,last:g,phone:w,email:S,password:E,profile_pic_url:A};console.log(A),l&&p&&g&&w&&S&&E?/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(S)?m.a.post("api/addUser",e).then((function(e){j.a.toast({html:e.data.msg,classes:e.data.toastColor}),e.data.success&&t.push("/signin")})).catch((function(e){console.log(e),j.a.toast({html:"Internel Error occured. Try Later (F)",classes:"#c62828 red darken-3"})})):j.a.toast({html:"Please provide a valid email ID",classes:"#c62828 red darken-3"}):j.a.toast({html:"Please fill all the feilds",classes:"#c62828 red darken-3"})},children:["Signup",Object(s.jsx)("i",{className:"material-icons right",children:"person_add"})]})]})},Z=function(e){var t=Object(n.useRef)(null);Object(n.useEffect)((function(){j.a.Sidenav.init(t.current,{edge:"right"})}),[]);var a=Object(n.useState)(e.path),c=Object(i.a)(a,2),l=c[0],r=c[1],d=e.jwt?[{url:"/people",icon:"group",label:"People"},{url:"/userTweets",icon:"dashboard",label:"Your Tweets"},{url:"/Signout",icon:"exit_to_app",label:"Signout"}]:[{url:"/signin",icon:"account_circle",label:"Signin"},{url:"/signup",icon:"person_add",label:"Signup"}],u="active teal darken-2";return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"navbar-fixed navbar-margin",children:Object(s.jsx)("nav",{children:Object(s.jsxs)("div",{className:"nav-wrapper custom-navbar",children:[Object(s.jsx)("div",{className:"brand-logo left",onClick:function(){return r("/")},children:Object(s.jsx)(o.b,{to:"/",children:"Twitter"})}),Object(s.jsx)("a",{href:"#","data-target":"mobile-demo",className:"sidenav-trigger right",children:Object(s.jsx)("i",{className:"material-icons",children:"menu"})}),Object(s.jsx)("ul",{className:"right hide-on-med-and-down",children:d.map((function(e,t){return Object(s.jsx)("li",{onClick:function(){return r(e.url)},className:l===e.url?u:null,children:Object(s.jsxs)(o.b,{to:e.url,children:[Object(s.jsx)("i",{className:"material-icons left",children:e.icon}),Object(s.jsx)("span",{style:{fontSize:"13px"},children:e.label})]})},t)}))})]})})}),Object(s.jsx)("ul",{className:"sidenav sidenav-close",id:"mobile-demo",ref:t,children:d.map((function(e,t){return Object(s.jsx)("li",{onClick:function(){return r(e.url)},className:l===e.url?u:null,children:Object(s.jsxs)(o.b,{to:e.url,children:[Object(s.jsx)("i",{className:"material-icons left",children:e.icon}),e.label]})},t)}))})]})};var q=function(e){var t=Object(n.useState)(localStorage.getItem("jwt")),a=Object(i.a)(t,2),c=a[0],l=a[1],r=Object(n.useState)(localStorage.getItem("user")),u=Object(i.a)(r,2),j=u[0],p=u[1];return Object(s.jsx)(o.a,{children:Object(s.jsxs)("div",{children:[Object(s.jsx)(Z,{jwt:c,user:j?JSON.parse(j):null,path:window.location.pathname}),Object(s.jsx)(d.b,{exact:!0,path:"/",render:function(){return Object(s.jsx)(H,{show_profile:!0,username:j?JSON.parse(j).username:null})}}),Object(s.jsx)(d.b,{path:"/userTweets",render:function(){return c&&j?Object(s.jsx)(B,{editable:!0,logged:!0,username:JSON.parse(j).username}):Object(s.jsx)(d.a,{to:"/signin"})}}),Object(s.jsx)(d.b,{path:"/people",render:function(){return c&&j?Object(s.jsx)(A,{username:JSON.parse(j).username,loader_name:"loader3",show_profile:!0}):Object(s.jsx)(d.a,{to:"/signin"})}}),Object(s.jsx)(d.b,{path:"/signin",render:function(){return Object(s.jsx)(Y,{setJwt:l,setUser:p})}}),Object(s.jsx)(d.b,{path:"/signup",component:K}),Object(s.jsx)(d.b,{path:"/signout",render:function(){localStorage.clear(),window.location.replace("/")}})]})})},G=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,78)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,l=t.getTTFB;a(e),s(e),n(e),c(e),l(e)}))};r.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(q,{})}),document.getElementById("root")),G()}},[[76,1,2]]]);
//# sourceMappingURL=main.7b1f3af8.chunk.js.map